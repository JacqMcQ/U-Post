<!-- post.handlebars -->
<section class="container">
  <h1 class="blog-title">{{blog.title}}</h1>
  <p class="blog-meta">
    <span>By {{blog.user.username}}</span> |
    <span>Posted on {{formatDate blog.createdAt}}</span>
  </p>
  <article class="blog-content">
    {{{blog.content}}}
  </article>

  {{#if loggedIn}}
    <section class="comment-section">
      <h3>Leave a Comment</h3>
      <form id="commentForm">
        <input type="hidden" id="blog-id" value="{{blog.id}}">
        <textarea name="content" rows="4" placeholder="Write your comment here..." required></textarea>
        <button type="submit" class="btn btn-primary">Submit</button>
      </form>
    </section>
  {{/if}}

  <section class="comments-list">
    <h3>Comments</h3>
    {{#each blog.comments as |comment|}}
      <div class="comment">
        <p><strong>{{comment.user.username}}</strong> <span>on {{formatDate comment.createdAt}}</span></p>
        <p>{{comment.text}}</p>
      </div>
    {{/each}}
  </section>
</section>

<script src="/js/post.js"></script>
